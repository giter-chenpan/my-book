<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>新建文章</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
        crossorigin="anonymous">
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/tiancai9Headers.css">

    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous"></script>
</head>
<style>
    body {
        background-color: white;
    }
    .rich {
        margin-top: 100px;
    }
    .rich-title {
        width: 100%;
        height: 1rem;
    }
    .rich-title-input {
        width: 90%;
        height: 1rem;
        padding: 0 .6rem;
        background-color: #efefef;
        border: 0;
        color: black;
    }
    #editor {
        margin: .4rem 0;
        width: 90%;
        text-align: left;
    }
    .col-md-12 {
        margin: .3rem 0;
        margin-left: 4%;
    }
</style>

<body>
    <menu class="menu">
        <div class="menu-mylogo">
            <div class="menu-mylogo-logo">
                9
            </div>
            <div class="menu-mylogo-title">逍遥君の小屋</div>
        </div>
        <div class="menu-user">
            <ul>
                <li><a href="../index.html">首页</a></li>
                <li id="UserState"><a href="../views/login.html">登录</a></li>
                <li class="UserMymid"><a href="usermymid.html">个人中心</a></li>
                <li onclick="UserLogout()" class="UserMymid"><a>登出</a></li>
            </ul>
        </div>
    </menu>
    <!-- 富文本 -->
    <div align="center" class="rich">
        <div class="rich-title">
            <input class="rich-title-input" type="text" />
        </div>
        <div id="editor">
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <b>分类：</b>
            <select>
                <option>Javascript</option>
                <option>Vue</option>
                <option>React</option>
                <option>Angular</option>
                <option>jQuery</option>
                <option>其他</option>
            </select>
        </div>
        <div class="col-md-12">
                <b>封面图：</b>
                <input id="LoadIMG" type="file" />
                <p style="color: red" >*(如未选择封面图则使用头像作为封面图)</p>
            </div>
    </div>
</body>

<script type="text/javascript" src="../js/tiancai9Headers.js"></script>
<script type="text/javascript" src="../js/result.js"></script>
<script type="text/javascript" src="../js/tiancai9Headers.js"></script>
<!-- 富文本插件WangEditor -->
<script type="text/javascript" src="./NewTitle/wangEditor.min.js"></script>
<script type="text/javascript">

$(document).ready(function() {
    // 加载富文本
    Editor()
    // 监听LoadIMG上传图片
    LoadIMG()
})

function LoadIMG () {
    $('#LoadIMG').change(function(file) {
        file = file.target.files[0]
        console.log(file)
        var loadFrom = new FormData()
        loadFrom.append('file', file)
        $.ajax({
            url: url + "api/loadimg",
            type: "POST",
            data: loadFrom,
            processData: false,
            contentType: false
        });
    })
}

function Editor () {
    var E = window.wangEditor
    var editor = new E('#editor')
    editor.customConfig.menus = [
        'head',
        'bold',
        'fontSize',
        'foreColor',
        'justify',
        'code',
        'image',
        'undo'

    ]
    editor.create()
}
</script>

</html>